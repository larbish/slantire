import{_ as W,a as X,b as Y}from"./DUfF1Moi.js";import Z from"./BBydKrXq.js";import{d as S,z as P,S as z,D as T,E as x,c as i,e as b,n as d,G as e,H as I,k as E,t as L,g as y,f as C,F as D,U as M,N as k,w as h,V as N,I as $,W as J,X as V,Y as Q,Z as ee,r as A,$ as te,a0 as ae,a1 as ne,a as se,u as oe,a2 as re,h as _,x as ce,K as ie,L as le,M as ue,O as pe,P as de,s as me,R as ge}from"./DL5ydOWs.js";import"./Rvx1oZbI.js";import"./C-v3KzvZ.js";import"./Dnd51l0P.js";const fe=S({inheritAttrs:!1,__name:"PageLinks",props:{title:{type:String,default:void 0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const s=P(),u=z(()=>({wrapper:"space-y-3",title:"text-sm/6 font-semibold flex items-center gap-1.5",container:"space-y-3 lg:space-y-1.5",base:"flex items-center gap-1.5",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",icon:{base:"w-5 h-5 flex-shrink-0"},avatar:{base:"self-center",size:"2xs"},externalIcon:{name:s.ui.icons.external,base:"w-3 h-3 absolute top-0.5 -right-3.5 text-gray-400 dark:text-gray-500"},label:"text-sm/6 font-medium relative"})),l=n,{ui:t,attrs:o}=T("page.links",x(l,"ui"),u,x(l,"class"),!0);return(a,m)=>{const p=V,c=Q,v=ee;return i(),b("div",$({class:e(t).wrapper},e(o)),[n.title||a.$slots.title?(i(),b("p",{key:0,class:d(e(t).title)},[I(a.$slots,"title",{},()=>[E(L(n.title),1)])],2)):y("",!0),C("div",{class:d(e(t).container)},[I(a.$slots,"default",{},()=>[(i(!0),b(D,null,M(n.links,(r,f)=>(i(),k(v,$({key:f,ref_for:!0},e(J)(r),{class:e(t).base,"active-class":e(t).active,"inactive-class":e(t).inactive,onClick:r.click}),{default:h(()=>[r.icon?(i(),k(p,{key:0,name:r.icon,class:d(e(N)(e(t).icon.base,r.iconClass))},null,8,["name","class"])):y("",!0),r.avatar?(i(),k(c,$({key:1,ref_for:!0},{size:e(t).avatar.size,...r.avatar},{class:e(N)(e(t).avatar.base,r.avatarClass)}),null,16,["class"])):y("",!0),C("span",{class:d(e(t).label)},[E(L(r.label)+" ",1),r.target==="_blank"?(i(),k(p,{key:0,name:e(t).externalIcon.name,class:d(e(t).externalIcon.base)},null,8,["name","class"])):y("",!0)],2)]),_:2},1040,["class","active-class","inactive-class","onClick"]))),128))])],2)],16)}}}),_e=()=>{const n=A(),s=A([]),u=A([]),l=o=>{o.forEach(a=>{const m=a.target.id;a.isIntersecting?s.value=[...s.value,m]:s.value=s.value.filter(p=>p!==m)})},t=o=>{o.forEach(a=>{n.value&&n.value.observe(a)})};return te(s,(o,a)=>{o.length===0?u.value=a:u.value=o}),ae(()=>n.value=new IntersectionObserver(l)),ne(()=>{var o;return(o=n.value)==null?void 0:o.disconnect()}),{visibleHeadings:s,activeHeadings:u,updateHeadings:t}},ve=["href","onClick"],q=S({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(n,{emit:s}){const u={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},l=n,t=s,o=se(),a=oe(),{activeHeadings:m,updateHeadings:p}=_e(),{ui:c,attrs:v}=T("content.toc.links",x(l,"ui"),u,x(l,"class"),!0);a.hooks.hookOnce("page:finish",()=>{p([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const r=f=>{const w=encodeURIComponent(f);o.push(`#${w}`),t("move",f)};return(f,w)=>{var U;const O=q;return(U=n.links)!=null&&U.length?(i(),b("ul",$({key:0,class:e(c).wrapper},e(v)),[(i(!0),b(D,null,M(n.links,g=>(i(),b("li",{key:g.text,class:d([e(c).wrapper,g.depth===3&&e(c).depth])},[C("a",{href:`#${g.id}`,class:d([e(c).base,e(m).includes(g.id)?e(c).active:e(c).inactive]),onClick:re(B=>r(g.id),["prevent"])},L(g.text),11,ve),g.children?(i(),k(O,{key:0,links:g.children,ui:e(c)},null,8,["links","ui"])):y("",!0)],2))),128))],16)):y("",!0)}}}),ye=S({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(n){const s=P(),u=z(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:s.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),l=n,{ui:t,attrs:o}=T("content.toc",x(l,"ui"),u,x(l,"class"),!0),a=A(!1);return(m,p)=>{var r,f;const c=V,v=q;return i(),b("nav",$({class:e(t).wrapper},e(o)),[C("div",{class:d([(r=n.links)!=null&&r.length?e(t).container.base:e(t).container.empty])},[I(m.$slots,"top"),(f=n.links)!=null&&f.length?(i(),b("button",{key:0,class:d(e(t).button.base),tabindex:"-1",onClick:p[0]||(p[0]=w=>a.value=!e(a))},[C("span",{class:d(e(t).button.label)},L(n.title),3),_(c,{name:e(t).button.trailingIcon.name,class:d(["lg:!hidden",[e(t).button.trailingIcon.base,e(a)?e(t).button.trailingIcon.active:e(t).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):y("",!0),_(v,{links:n.links,ui:e(t).links,class:d([e(a)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),I(m.$slots,"bottom")],2)],16)}}}),be={class:"hidden lg:block"},Ue=S({__name:"[...slug]",async setup(n){var m,p,c,v;let s,u;const l=ce(),{data:t,error:o}=([s,u]=ie(()=>pe(l.path,()=>me(l.path).findOne(),"$q8yekERBLR")),s=await s,u(),s);if(o.value)throw le({statusCode:404,message:"Page not found",fatal:!0});const a=P();return ue({title:(m=t.value)==null?void 0:m.title,ogTitle:(p=t.value)==null?void 0:p.title,description:((c=t.value)==null?void 0:c.description)||a.seo.tagLine,ogDescription:((v=t.value)==null?void 0:v.description)||a.seo.tagLine}),(r,f)=>{const w=W,O=Z,U=X,g=Y,B=fe,F=ye,G=ge,K=de;return e(t)?(i(),k(K,{key:0},{default:h(()=>[_(G,null,{right:h(()=>{var H;return[_(F,{title:(H=e(a).toc)==null?void 0:H.title,links:e(t).body.toc.links},{bottom:h(()=>{var R,j;return[C("div",be,[_(g),_(B,{title:(j=(R=e(a).toc)==null?void 0:R.bottom)==null?void 0:j.title,links:e(t).resources},null,8,["title","links"])])]}),_:1},8,["title","links"])]}),default:h(()=>[_(w,{title:e(t).title,description:e(t).description},null,8,["title","description"]),_(U,{prose:""},{default:h(()=>[_(O,{value:e(t)},null,8,["value"])]),_:1})]),_:1})]),_:1})):y("",!0)}}});export{Ue as default};
