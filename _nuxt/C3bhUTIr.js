import{q as s,aV as p,d as l,D as f,r as v,c as m,N as y,G as _,a3 as b}from"./DL5ydOWs.js";function x(){const o=s("notifications",()=>[]);function a(n){const e={id:new Date().getTime().toString(),...n};return o.value.findIndex(c=>c.id===e.id)===-1&&o.value.push(e),e}function r(n){o.value=o.value.filter(e=>e.id!==n)}function t(n,e){const i=o.value.findIndex(c=>c.id===n);if(i!==-1){const c=o.value[i];o.value.splice(i,1,{...c,...e})}}function u(){o.value=[]}return{add:a,remove:r,update:t,clear:u}}function C(o={}){const{copy:a,isSupported:r}=p(),t=x();function u(n,e={},i={}){r&&a(n).then(()=>{!e.title&&!e.description||t.add({...e,...o})},function(c){t.add({...i,description:i.description||c.message,...o})})}return{copy:u}}const h=l({__name:"ProseCodeButton",props:{code:{type:String,required:!0}},setup(o){const a=o,r={icon:{copy:"i-heroicons-clipboard-document",copied:"i-heroicons-clipboard-document-check"}},{ui:t}=f("content.prose.code.button",void 0,r,void 0,!0),u=C({timeout:2e3}),n=v(t.value.icon.copy);function e(){u.copy(a.code,{title:"Copied to clipboard!"}),n.value=t.value.icon.copied,setTimeout(()=>{n.value=t.value.icon.copy},2e3)}return(i,c)=>{const d=b;return m(),y(d,{icon:_(n),color:"gray",variant:"link",size:"xs","aria-label":"Copy code to clipboard",tabindex:"-1",onClick:e},null,8,["icon"])}}});export{h as _};
